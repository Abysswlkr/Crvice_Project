<!DOCTYPE html>
<html>
<head>
  <title>Editar Publicación</title>
</head>

<body>
  <div class="nueva-publicacion">
    <h1>Editando Publicación</h1>
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <form #form="ngForm" (ngSubmit)="onSubmit(form)">
      <div *ngIf="publicacion">
        <p>Título:</p>
        <input type="text" name="titulo" class="form-nombre" [(ngModel)]="publicacion.titulo" />
        <br />
        <p>Rubro:</p>
        <input type="text" name="rubro" class="form-nombre" [(ngModel)]="publicacion.rubro" />
        <br />
        <p>Precio Estimado:</p>
        <input type="text" name="precio" class="form-nombre" [(ngModel)]="publicacion.precio" pattern="^\d+(\.\d{3})*$" required/>
        <div *ngIf="form.controls['precio']?.invalid && form.controls['precio']?.touched" class="error-message">El precio debe estar en el formato correcto: 000.000</div>
        <br />
        <p>Descripción:</p>
        <textarea name="descripcion" class="form-nombre" [(ngModel)]="publicacion.descripcion"></textarea>
        <br />
        <p>Imagen:</p>
        <input type="file" id="newFileInput" (change)="onNewFilesSelected($event)" accept="image/*" multiple>
        <br />
        <div class="div-btn">
          <button type="submit" class="btn">Guardar cambios</button>
        </div>
      </div>
    </form>
  </div>
</body>
</html>
